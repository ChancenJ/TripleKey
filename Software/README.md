## 软件说明

### 功能说明

#### 0.启动

- 首次启动，屏幕提示连接自身热点，进行WIFI配置。启动时按住中键可重新配置，启动时按住右键进入OTA模式。

- 启动后任意页面长按旋钮，进入菜单；旋转旋钮，调整内容；单击对应按键，进入相应页面。

#### 1.时间

| 按键/操作 | 单击 |   双击   |   长按   |   左旋   |   右旋   |
| :-------: | :--: | :------: | :------: | :------: | :------: |
| **左键**  |      | 进入天气 | 进入米家 |    ——    |    ——    |
| **中键**  | 报时 |          |          |    ——    |    ——    |
| **右键**  |      |          |          |    ——    |    ——    |
| **旋钮**  |      |          | 进入菜单 | 调整样式 | 调整样式 |

#### 2.天气

- 实时天气、三日天气预报、气象灾害预警

| 按键/操作 |     单击     | 双击 |   长按   |     左旋     |     右旋     |
| :-------: | :----------: | :--: | :------: | :----------: | :----------: |
| **左键**  |              |      |          |      ——      |      ——      |
| **中键**  |              |      |          |      ——      |      ——      |
| **右键**  |              |      |          |      ——      |      ——      |
| **旋钮**  | 返回时间页面 |      | 进入菜单 | 调整显示内容 | 调整显示内容 |

#### 3.股票

- 2分钟更新一次数据，自动轮播。呼吸灯颜色随涨跌变化。

| 按键/操作 | 单击 | 双击 |   长按   |     左旋     |     右旋     |
| :-------: | :--: | :--: | :------: | :----------: | :----------: |
| **左键**  |      |      |          |      ——      |      ——      |
| **中键**  |      |      |          |      ——      |      ——      |
| **右键**  |      |      |          |      ——      |      ——      |
| **旋钮**  |      |      | 进入菜单 | 调整显示内容 | 调整显示内容 |

#### 4.米家（对应固件、连接拓展）

- 米家无线开关功能（米家八键复合开关4情景+4开关），可接入米家控制米家智能家居设备，可显示开关状态，与米家同步，共可设置4开关+12场景（4键单击双击长按）；
- 人体存在传感器（海凌科人体存在传感器HLK-2410C），绑定米家无线开关KEY1，有人存在则KEY1开，无人则KEY1关，有人无人状态实时同步，通过米家可设置智能场景联动米家设备。（有人无人检测相关配置使用海凌科官方APP HLKRadarTool）
- 根据有人无人状态自动开关屏幕和LED灯功能。

| 按键/操作 |     单击     | 双击 |   长按   |     左旋     |     右旋     |
| :-------: | :----------: | :--: | :------: | :----------: | :----------: |
| **左键**  |   对应操作   |      |          |      ——      |      ——      |
| **中键**  |   对应操作   |      |          |      ——      |      ——      |
| **右键**  |   对应操作   |      |          |      ——      |      ——      |
| **旋钮**  | 返回时间页面 |      | 进入菜单 | 调整操作内容 | 调整操作内容 |

#### 5.照片（ESP32-S3-WROOM-1-N16R2支持，N8R2不支持）

-  通过网页上传，自动轮播

| 按键/操作 | 单击 | 双击 |   长按   |     左旋     |     右旋     |
| :-------: | :--: | :--: | :------: | :----------: | :----------: |
| **左键**  |      |      |          |      ——      |      ——      |
| **中键**  |      |      |          |      ——      |      ——      |
| **右键**  |      |      |          |      ——      |      ——      |
| **旋钮**  |      |      | 进入菜单 | 调整显示内容 | 调整显示内容 |

#### 6.键盘

- 通过蓝牙连接电脑，用作蓝牙键盘

| 按键/操作 |      单击      | 双击 |   长按   |     左旋     |     右旋     |
| :-------: | :------------: | :--: | :------: | :----------: | :----------: |
| **左键**  |  输入对应字符  |      |          |      ——      |      ——      |
| **中键**  |  输入对应字符  |      |          |      ——      |      ——      |
| **右键**  |  输入对应字符  |      |          |      ——      |      ——      |
| **旋钮**  | 切换大小写数字 |      | 进入菜单 | 调整显示内容 | 调整显示内容 |

#### 7.快捷键

- 通过蓝牙连接电脑，使用快捷键（复制、剪切、粘贴、显示桌面、全选、切屏、撤销、刷新等）

| 按键/操作 |    单击    | 双击 |   长按   |     左旋     |     右旋     |
| :-------: | :--------: | :--: | :------: | :----------: | :----------: |
| **左键**  | 对应快捷键 |      |          |      ——      |      ——      |
| **中键**  | 对应快捷键 |      |          |      ——      |      ——      |
| **右键**  | 对应快捷键 |      |          |      ——      |      ——      |
| **旋钮**  |            |      | 进入菜单 | 调整显示内容 | 调整显示内容 |

#### 8.网页

-  通过蓝牙连接电脑，快捷启动浏览器进入网页。

| 按键/操作 |     单击     | 双击 |   长按   |     左旋     |     右旋     |
| :-------: | :----------: | :--: | :------: | :----------: | :----------: |
| **左键**  | 进入对应网页 |      |          |      ——      |      ——      |
| **中键**  | 进入对应网页 |      |          |      ——      |      ——      |
| **右键**  | 进入对应网页 |      |          |      ——      |      ——      |
| **旋钮**  |              |      | 进入菜单 | 调整显示内容 | 调整显示内容 |

#### 9.多媒体

- 通过蓝牙连接电脑，控制播放暂停、下一首、上一首、音量。

| 按键/操作 |     单击      | 双击 |   长按   |   左旋   |   右旋   |
| :-------: | :-----------: | :--: | :------: | :------: | :------: |
| **左键**  |    上一首     |      |          |    ——    |    ——    |
| **中键**  |   播放/暂停   |      |          |    ——    |    ——    |
| **右键**  |    下一首     |      |          |    ——    |    ——    |
| **旋钮**  | 静音/解除静音 |      | 进入菜单 | 调低音量 | 调高音量 |

#### 10.哔哩哔哩

- 一键三连、开关弹幕、全屏观看

| 按键/操作 |     单击      | 双击 |   长按   |   左旋   |   右旋   |
| :-------: | :-----------: | :--: | :------: | :------: | :------: |
| **左键**  |   一键三连    |      |          |    ——    |    ——    |
| **中键**  |   开关弹幕    |      |          |    ——    |    ——    |
| **右键**  |   全屏观看    |      |          |    ——    |    ——    |
| **旋钮**  | 静音/解除静音 |      | 进入菜单 | 调低音量 | 调高音量 |

#### 11.倒计时

- 双击旋钮进入设置模式，按下时分秒对应按键，数字闪烁，旋转旋钮可调节设定时间，单击旋钮开始/暂停/继续，退出倒计时页面继续计时。
- 底部进度条

| 按键/操作 |   单击    |     双击     |   长按   |     左旋     |     右旋     |
| :-------: | :-------: | :----------: | :------: | :----------: | :----------: |
| **左键**  |  设置时   |              |          |      ——      |      ——      |
| **中键**  |  设置分   |              |          |      ——      |      ——      |
| **右键**  |  设置秒   |              |          |      ——      |      ——      |
| **旋钮**  | 开始/暂停 | 进入设置模式 | 进入菜单 | 调小设定时间 | 调大设定时间 |

#### 12.番茄钟

| 按键/操作 |     单击      | 双击 |   长按   | 左旋 | 右旋 |
| :-------: | :-----------: | :--: | :------: | :--: | :--: |
| **左键**  | 计时开始/暂停 |      |          |  ——  |  ——  |
| **中键**  | 计时开始/暂停 |      |          |  ——  |  ——  |
| **右键**  | 计时开始/暂停 |      |          |  ——  |  ——  |
| **旋钮**  |               |      | 进入菜单 |      |      |

#### 13.设置

- 根据屏幕提示进入网页，进行自定义设置，可进行天气、股票、米家、快捷网页、上传照片、编码器等设置。

| 按键/操作 |        单击        | 双击 |   长按   | 左旋 | 右旋 |
| :-------: | :----------------: | :--: | :------: | :--: | :--: |
| **左键**  |  快捷进入设置页面  |      |          |  ——  |  ——  |
| **中键**  |                    |      | 重启设备 |  ——  |  ——  |
| **右键**  | 快捷进入仓库发行版 |      |          |  ——  |  ——  |
| **旋钮**  |                    |      | 进入菜单 |      |      |

### 更新历史

#### 20240320 【V0.0.1】

- 初始版本

#### 20240326 【V0.1.x】

- V0.1.0 增加实时股票功能，股票页显示当前时间、股票名称、当前价格、涨跌幅，每2分钟更新一次，股票页每10秒自动切换，旋钮可手动切换。
- v0.1.1 增加股票页红绿呼吸灯，上涨为红，下跌为绿。
- V0.1.3 股票页显示日期、星期、时间。

#### 20240329 【V0.2.x】

- V0.2.0 天气功能完全重构，采用和风天气API，开机时长按中间键进入WIFI配置页可配置城市（输入拼音）和密钥（和风天气官网免费获取）。天气页显示当前温度、相对湿度、空气质量、天气状况、风向风力、最高最低温度、日出日落时间，旋钮可切换显示三天天气预报。

#### 20240410 【V0.3.x】

- V0.3.0 增加米家无线开关功能（米家八键复合开关4情景+4开关），可接入米家控制米家智能家居设备，可显示开关状态，与米家同步，共可设置4开关+12场景（4键单击双击长按）；增加人体存在传感器，绑定米家无线开关KEY1，有人存在则KEY1开，无人则KEY1关，有人无人状态实时同步，通过米家可设置智能场景联动米家设备。（*增加硬件：米家八键复合开关模组MHCB05P-B、海凌科人体存在传感器HLK-2410C、I2C拓展芯片CH423S。集合为米家拓展配件，通过拓展外设插口接入）
- V0.3.8 增加根据有人无人状态自动开关屏幕和LED灯功能。（有人无人检测相关配置使用海凌科官方APP HLKRadarTool）

#### 20240418 【V0.4.x】

- V0.4.0 增加自定义配置功能，连接WIFI后，进入设置页面，可在浏览器输入IP地址或扫描二维码进入配置页，对天气、股票、米家、快捷网页进行自定义配置，保存后即时生效。
- V0.4.3 增加整点报时可选项（更多设置Web页）。
- V0.4.4 增加时钟主题自动切换可选项。
- V0.4.10 增加旋转编码器设置，设置WIFI时或进入设置页-更多设置可对旋转编码器进行配置，旋转编码器限位值为2（阿尔卑斯阿尔派EC11J1524413）或4（普通插改贴编码器），若编码器操作逻辑相反，可设置反向。

#### 20240504 【V0.5.x】

- V0.5.0 【N16R2适配功能】增加照片播放功能，可进入设置页-更多设置对照片进行上传和删除，可设置是否自动轮播。

#### 20240505 【V0.6.x】

- V0.6.0 天气功能增加气象灾害预警信息

#### 20240506 【V0.7.x】

- V0.7.0 增加倒计时功能，双击旋钮进入设置模式，按下时分秒对应按键，数字闪烁，旋转旋钮可调节设定时间，单击旋钮开始/暂停/继续，退出倒计时页面继续计时。

#### 20240511 【V0.8.x】

- V0.8.0 重构人体存在传感器与米家开关运行机制，多线程运行，米家开关操作增加消息队列，可连续处理多个操作。

#### 20240513 【V0.9.x】

- V0.9.0 支持固件版本检测，开机时将检查是否有新版本固件，若有新版本则屏幕提示，进入Web设置页-下载固件可根据自身硬件下载对应固件。

#### 20240523 【V1.0.0】

- V1.0.0 正式发布版

### 后续计划

- 增加整合信息页
- 使用LVGL重构全部UI
- 优化Web设置页面

